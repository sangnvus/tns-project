<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>TaxiNet</title>
</h:head>
<h:body>
	<h:form id="driver-form" prependId="false">
		<p:megaMenu orientation="horizontal">
			<p:menuitem value="#{msg['feeAgent.homePage']}"
				url="../driver/Dashboard.xhtml"></p:menuitem>
		</p:megaMenu>
		<p:megaMenu orientation="vertical">
			<p:menuitem value="#{msg['feeAgent.dashboard']}"
				url="../driver/Dashboard.xhtml"></p:menuitem>
			<p:menuitem value="#{msg['feeAgent.contactInfo']}"
				url="../driver/ContactInfo.xhtml"></p:menuitem>
			<p:menuitem value="#{msg['driver.document']}"
				url="../driver/Document.xhtml"></p:menuitem>
			<p:menuitem value="#{msg['driver.vehicle']}"
				url="../driver/Vehicles.xhtml"></p:menuitem>
			<p:menuitem value="#{msg['driver.partnerInvoice']}"
				url="../driver/PartnerInvoices.xhtml"></p:menuitem>
			<p:menuitem value="#{msg['driver.tripsInvoice']}"
				url="../driver/TripInvoices.xhtml"></p:menuitem>
			<p:menuitem value="#{msg['driver.driver']}"
				url="../driver/Drivers.xhtml" style="background:orange"></p:menuitem>
			<p:menuitem value="#{msg['driver.liveStatus']}"
				url="../driver/LiveStatus.xhtml"></p:menuitem>
			<p:menuitem value="#{msg['driver.promotionRegister']}"
				url="../driver/Dashboard.xhtml"></p:menuitem>
			<p:menuitem value="#{msg['feeAgent.supportQnA']}"
				url="../driver/Dashboard.xhtml"></p:menuitem>
		</p:megaMenu>

		<br></br>

		<h1>#{msg['driver.drivers']}</h1>
		<p:dataTable id="driver-list" paginator="true" rows="5"
			paginatorPosition="bottom" lazy="true" selectionMode="single"
			selection="#{driverListBean.selectedDriver}" rowKey="#{driver.id}"
			value="#{driverListBean.driverList}" var="driver"
			paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} ">
			<p:column headerText="#{msg['login.userName']}"
				style="text-align:left">
				<h:outputLabel value="#{driver.email}" />
			</p:column>
			<p:column headerText="#{msg['riderRegister.name']}"
				style="text-align:left">
				<h:outputLabel value="#{driver.firstName} #{driver.lastName}" />
			</p:column>
			<p:column headerText="#{msg['riderRegister.email']}"
				style="text-align:left">
				<h:outputLabel value="#{driver.email}" />
			</p:column>
			<p:column headerText="#{msg['feeAgent.mobileNo']}"
				style="text-align:left">
				<h:outputLabel value="#{driver.phoneNumber}" />
			</p:column>
			<p:column headerText="#{msg['driver.car']}" style="text-align:left">
				<h:outputLabel value="#{driver.plate}" />
			</p:column>
			<p:column>
				<p:commandLink value="Chi tiết"
					oncomplete="PF('driver-info-dialog').show();"
					update=":driver-form:info-form"
					actionListener="#{driverListBean.showChosenDriverInfo(driver)}">
						<f:setPropertyActionListener value="#{driver}" target="#{driverListBean.selectedDriver}" />
					</p:commandLink>
			</p:column>
		</p:dataTable>
		<br></br>
		<p:commandButton value="#{msg['driver.driverAdd']}"
			action="#{driverListBean.redirectToAddNewDriver}" />

		<p:dialog id="info-form" widgetVar="driver-info-dialog"
			resizable="false" modal="true" header=" Thông tin chi tiết lái xe">
			<h:panelGrid id="info" columns="2">
				<p:outputLabel value="Tên lái xe : " />
				<p:inputText readonly="true"
					value="#{driverListBean.driverDTO.firstName} #{driverListBean.driverDTO.lastName}" />
				<p:outputLabel value="Email : " />
				<p:inputText readonly="true"
					value="#{driverListBean.driverDTO.email}" />
				<p:outputLabel value="Username : " />
				<p:inputText value="#{driverListBean.driverDTO.username}"
					readonly="true" />
				<p:outputLabel value="Phone number : " />
				<p:inputText readonly="true"
					value="#{driverListBean.driverDTO.phoneNumber}" />
				<p:outputLabel value="Plate : "/>
				<p:inputText value="#{driverListBean.driverDTO.plate}"/>
				<p:outputLabel value="Country : " />
				<p:inputText readonly="true"
					value="#{driverListBean.driverDTO.country}" />
				<p:outputLabel value="Language : " />
				<p:inputText readonly="true"
					value="#{driverListBean.driverDTO.language}" />
			</h:panelGrid>
		</p:dialog>
	</h:form>
</h:body>
</html>
